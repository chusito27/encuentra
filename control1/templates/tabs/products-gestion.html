<!-- Contenido de la Pestaña de Gestión de Productos -->

<!-- 1. VISTA DE LISTA (lo que ya tenías) -->
<div id="productsListView">
    <div class="action-buttons-container" style="justify-content: space-between; align-items: center;">
        <h2>Gestión de Productos</h2>
        <button id="addNewProductButton">Añadir Nuevo Producto</button>
    </div>
    <!-- NUEVO: Contenedor para filtros y búsqueda -->
    <div id="product-filters" class="filters-container">
        <input type="text" id="productSearchInput" placeholder="Buscar por nombre...">
        <select id="productSortSelect">
            <option value="order-asc">Ordenar por: Orden (defecto)</option>
            <option value="name-asc">Nombre (A-Z)</option>
            <option value="name-desc">Nombre (Z-A)</option>
            <option value="price-desc">Precio (Mayor a menor)</option>
            <option value="price-asc">Precio (Menor a mayor)</option>
            <option value="profit-desc">Ganancia (Mayor a menor)</option>
            <option value="stock-asc">Stock (Menor a mayor)</option>
        </select>
    </div>
    <div id="productsList">
        <p>Selecciona un comercio para ver sus productos.</p>
    </div>
</div>

<!-- 2. VISTA DE FORMULARIO/EDITOR (lo que estaba en el modal) -->
<div id="productFormView" style="display: none;">
    <h2 id="productFormTitle">Añadir Producto</h2>
    <form id="productForm">
        <input type="hidden" id="productId">
        <div class="form-section">
            <div class="form-grid">
                <div class="form-group">
                    <label for="productName">Nombre del Producto</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="input-group">
                    <label for="productPrice">Precio</label>
                    <input type="number" id="productPrice" step="0.01" required>
                </div>
                <!-- CAMPO NUEVO: Precio Costo -->
                <div class="input-group">
                    <label for="productCostPrice">Precio Costo</label>
                    <input type="number" id="productCostPrice" step="0.01">
                </div>
                <!-- CAMPO NUEVO: Ganancia (solo visual) -->
                <div class="input-group">
                    <label>Ganancia</label>
                    <p id="productProfit" class="form-static-text">₡0.00</p>
                </div>
                <!-- CAMPO NUEVO: Precio Anterior -->
                <div class="input-group">
                    <label for="productOldPrice">Precio Anterior (para ofertas)</label>
                    <input type="number" id="productOldPrice" step="0.01">
                </div>
                <div class="input-group">
                    <label for="productOrder">Orden</label>
                    <input type="number" id="productOrder" value="0">
                </div>
                <!-- CAMPO NUEVO: Stock -->
                <div class="input-group">
                    <label for="productStock">Cantidad en Stock</label>
                    <input type="number" id="productStock" step="1" placeholder="Dejar en blanco para stock ilimitado">
                </div>
                <div class="input-group">
                    <label>Categorías</label>
                    <div id="productCategoriesContainer" class="checkbox-group">
                        <!-- Los checkboxes de las categorías se cargarán aquí -->
                    </div>
                </div>
                <div class="input-group">
                    <label for="productDescription">Descripción</label>
                    <textarea id="productDescription" rows="3"></textarea>
                </div>
                <!-- CAMPO NUEVO: Detalles -->
                <div class="input-group">
                    <label for="productDetails">Detalles Adicionales</label>
                    <textarea id="productDetails" rows="5"></textarea>
                </div>
                <!-- CAMPOS NUEVOS: Opciones alimentarias -->
                <div class="input-group checkbox-options">
                    <div class="checkbox-item">
                        <input type="checkbox" id="isGlutenFree">
                        <label for="isGlutenFree">Sin Gluten</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="isVegan">
                        <label for="isVegan">Vegano</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="isVegetarian">
                        <label for="isVegetarian">Vegetariano</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="productImage">URL de la Imagen Principal</label>
                    <input type="text" id="productImage">
                    <div id="imagePreview" class="image-preview"></div>
                </div>
                <div class="form-group">
                    <label for="productImageUpload">O subir una nueva imagen</label>
                    <input type="file" id="productImageUpload" accept="image/*">
                </div>
            </div>
        </div>
        <div class="form-actions">
            <button type="button" id="cancelProductEdit" class="cancel">Cancelar</button>
            <button type="submit">Guardar Producto</button>
        </div>
    </form>
</div>